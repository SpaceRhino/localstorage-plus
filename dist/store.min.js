"use strict";var ROOT="LSA.";var STORE=window.localStorage;var EXPIRE_KEY="--exp=";var util={remove:function(key){try{STORE.removeItem(key.replace(EXPIRE_KEY,""));STORE.removeItem(key)}catch(error){throw error}},flush:function(index){Object.keys(STORE).map(function(key){if(key.indexOf(index)===0){util.remove(key)}})},flushExpired:function(index){if(Object.keys(STORE).length>0){Object.keys(STORE).map(function(key){if(key.indexOf(index)===0&&key.indexOf(EXPIRE_KEY)!==-1){if(parseInt(STORE.getItem(key))<Date.now()){util.remove(key)}}})}}};var Store=function(name){var storeName;function __construct(name){try{storeName=validateStoreName(name);flushExpired()}catch(error){throw error}}function set(key,data,expiresAt){try{if(expiresAt!==undefined&&typeof expiresAt==="number"){STORE.setItem(storeName+key+EXPIRE_KEY,expiresAt.toString())}STORE.setItem(storeName+key,decodeObjectString(data));return true}catch(error){throw error;return false}}function get(key){try{if(key!==undefined){var result=encodeObjectString(STORE.getItem(storeName+key));return result!==null?result:false}else{var result={};Object.keys(STORE).map(function(key){if(key.indexOf(storeName)==0&&key.indexOf(EXPIRE_KEY)===-1){var varKey=key.replace(storeName,"");result[varKey]=get(varKey)}});return result}}catch(error){console.error(error);throw error;return false}}function isset(key){return get(key)!==false?true:false}function flush(){util.flush(storeName)}function remove(key){util.remove(storeName+key)}function flushExpired(){util.flushExpired(storeName)}function validateStoreName(storeName){if(storeName===void 0)throw new TypeError("Please provide a storename");if(typeof storeName!=="string")throw new TypeError("The storename has to be a string");return storeName=ROOT+storeName+"-"}function decodeObjectString(data){if(typeof data=="object"){return JSON.stringify(data)}return data}function encodeObjectString(data){if(typeof data=="string"){try{return JSON.parse(data)}catch(e){}}return data}__construct(name);return{set:set,get:get,flush:flush,remove:remove,isset:isset}};Store.flush=function(){util.flush(ROOT)};Store.flushExpired=function(){util.flushExpired(ROOT)};Store.flushExpired();if(typeof module!=="undefined"&&module.exports){module.exports=Store}